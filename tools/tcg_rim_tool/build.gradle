apply plugin: 'java'
version = '1.0'

repositories {
	mavenCentral()
}

dependencies {
	compile libs.minimal_json
	compile libs.jcommander
	compile libs.bouncy_castle
	testCompile libs.testng
}

jar {
	manifest {
		attributes("Main-Class": "hirs.swid.Main",
			   "Class-Path": configurations.runtime.files.collect { "lib/$it.name" }.join(' ')
			  )
	}
	from(configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }) {}
	exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
}

uploadArchives {
	repositories {
		flatDir {
			dirs "${buildDir}"
		}
	}
}
